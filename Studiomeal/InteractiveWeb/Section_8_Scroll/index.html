<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Scroll</title>
	<link rel="stylesheet" href="../res/css/reset.css">
	<style>
		body{margin:0;color:#fff;background-color:#333;}
		h1{margin:45px 0 0;}
		img{max-width:100%;}
		.content{height:1000vh;padding:20%;background-color:#444}
		.output{position:fixed;left:0;top:0;width:100%;font-size:2rem;font-weight:200;color:#fff;background:rgba(0, 0, 0, 0.4)}
		.ilbuni{width:100px;margin:20px auto;transition:1s}
		.ilbuni.zoom{transform:scale(2)}
	</style>
</head>
<body>
	<h1>Scroll</h1>
	<div class="output">output</div>
    <div class="content">
        <p>
            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Illo culpa id ratione alias illum aliquam accusamus deleniti dolores dignissimos, temporibus iste perspiciatis voluptatem repudiandae debitis similique fugiat dolor, doloremque quos mollitia repellendus iure exercitationem molestiae ab! Veritatis harum voluptate enim ducimus amet vitae veniam dignissimos possimus facilis eaque minus similique, vel commodi sed? Sequi distinctio debitis numquam, necessitatibus officiis quam, sed rerum id culpa totam provident repellendus iste, laborum maiores, consequuntur fugiat voluptatibus? Ad, architecto. Ipsam minus quis, ea quas, ex impedit quia distinctio commodi expedita laudantium dolores cum? Quisquam, odit, laboriosam consequuntur expedita optio laudantium. Optio laboriosam, repellendus laborum.
        </p>
        <figure class="ilbuni">
            <img src="../res/img/ilbuni_0.png" alt="일분이">
        </figure>
    </div>
	<script>
		(function(){
			const outputElem = document.querySelector('.output');
			const ilbuniElem = document.querySelector('.ilbuni');
			// 1.
			// window.addEventListener('scroll',function(){
			// 	// outputElem.innerHTML = window.pageYOffset;	// ← 스크롤값을 px로 나타내주는 속성
			// 	// outputElem.innerHTML = ilbuniElem.offsetTop;	// ← 객체의 스크롤하기 전 처음 위치(높이)값
			// 	// outputElem.innerHTML = ilbuniElem.getBoundingClientRect();	// ← 객체의 값(크기, 위치)을 스크롤 할 때마다 알려주는 메소드
			// 	// outputElem.innerHTML = ilbuniElem.getBoundingClientRect().top;	// ← 객체의 위치(높이)값을 알려줌
			// });

			// 2. 최대한 단순하게! 필요한 기능은 따로 함수로 빼서 적용
			function showValue(){
				let posY = ilbuniElem.getBoundingClientRect().top;
				outputElem.innerHTML = posY;
				// if(posY < 100){
				// 	ilbuniElem.classList.add('zoom');
				// }
				if(posY < window.innerHeight*0.2){
					ilbuniElem.classList.add('zoom');
				}else{
					ilbuniElem.classList.remove('zoom');
				}
				console.log(window.innerHeight);	// → 창 틀을 빼고 내용 + 스크롤 크기
			}
			// window.addEventListener('scroll',showValue);
			window.addEventListener('scroll',function(){
				showValue();
			});
			showValue();
		})();
	</script>
</body>
</html>